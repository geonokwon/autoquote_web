# AutoQuote

**í†µì‹ ì‚¬ ìƒí’ˆ ê²¬ì  ê´€ë¦¬ ì‹œìŠ¤í…œ** â€” ì¸í„°ë„·, CCTV, ì •ìˆ˜ê¸°, í¬ìŠ¤ê¸° ë“± KT ìƒí’ˆ ì¡°í•©ì— ë”°ë¥¸ ì‹¤ì‹œê°„ ê²¬ì  ê³„ì‚° ë° ê²¬ì ì„œ ë°œê¸‰ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ì†Œê°œ

AutoQuoteëŠ” ì˜ì—…/ê³ ê° ë‹´ë‹¹ìê°€ í†µì‹  ì„œë¹„ìŠ¤ ì¡°í•©ì„ ì„ íƒí•˜ë©´ **ìƒí’ˆ í˜œíƒ(ìƒí’ˆê¶ŒÂ·í˜„ê¸ˆ)**, **ê²°í•© í• ì¸**, **ì¹´ë“œ í• ì¸**ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚°í•´ ê²¬ì ì„œë¥¼ ìƒì„±í•˜ëŠ” B2B/B2C ë„êµ¬ì…ë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì„œë¹„ìŠ¤Â·í˜œíƒ ê·œì¹™ì„ DB ê¸°ë°˜ìœ¼ë¡œ ìœ ì—°í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

| êµ¬ë¶„                       | ì„¤ëª…                                                                        |
| -------------------------- | --------------------------------------------------------------------------- |
| **ê²¬ì  ê³„ì‚°**              | ì¸í„°ë„· ì†ë„, CCTV ì±„ë„, ì •ìˆ˜ê¸°/í¬ìŠ¤ê¸° ë“± ìƒí’ˆ ì„ íƒ ì‹œ ì‹¤ì‹œê°„ ê¸ˆì•¡Â·í˜œíƒ ê³„ì‚° |
| **ê²°í•© í• ì¸**              | ì„œë¹„ìŠ¤ ì¡°í•©ë³„ ì›”ì •ì•¡ í• ì¸ ì ìš© (ê·œì¹™ ê¸°ë°˜)                                  |
| **í˜œíƒ ê·œì¹™**              | ì¡°ê±´ë¶€ ê²°í•© í˜œíƒ(required + options ë§¤ì¹­)                                   |
| **ê²¬ì ì„œ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°**   | JSON ê¸°ë°˜ ê²¬ì  ì €ì¥, ìµœê·¼ ê²¬ì  ëª©ë¡                                         |
| **ê²¬ì ì„œ ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°** | html2canvas ê¸°ë°˜ í™”ë©´ ìº¡ì²˜                                                  |
| **ê´€ë¦¬ì í˜ì´ì§€**          | ì„œë¹„ìŠ¤, ê²°í•© ê·œì¹™, ìƒí’ˆë³„ í˜œíƒ, ë¬¶ìŒ í˜œíƒ CRUD (admin ì „ìš©)                 |
| **ì¸ì¦**                   | Cookie ê¸°ë°˜ ì„¸ì…˜, bcrypt ë¹„ë°€ë²ˆí˜¸, user/admin ì—­í•  ë¶„ë¦¬                     |

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend

-   **React 18** Â· **Vite** (ë¹Œë“œ/ë²ˆë“¤ë§)
-   **Material UI (MUI)** Â· Emotion (UI/ìŠ¤íƒ€ì¼ë§)
-   **React Router v6** (ë¼ìš°íŒ…)
-   **Axios** (API í†µì‹ )
-   **html2canvas** (ê²¬ì ì„œ ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°)

### Backend

-   **Node.js** Â· **Express 5** (REST API)
-   **bcryptjs** (ë¹„ë°€ë²ˆí˜¸ í•´ì‹±)
-   **JSON íŒŒì¼** (db.json, users.json, sessions.json) â€” íŒŒì¼ ê¸°ë°˜ ë°ì´í„° ì €ì¥

### DevOps / ê¸°íƒ€

-   **Docker** Â· **Docker Compose** (ì»¨í…Œì´ë„ˆ ë°°í¬)
-   **Nginx** (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ, SPA ë¼ìš°íŒ…)
-   **Jest** Â· **Babel** (ìœ ë‹› í…ŒìŠ¤íŠ¸)
-   **ESLint** (ì½”ë“œ í’ˆì§ˆ)

---

## ğŸ— ì•„í‚¤í…ì²˜

### Clean Architecture / DIP ì ìš©

ë„ë©”ì¸ ë¡œì§ì„ ì¸í”„ë¼ë¡œë¶€í„° ë¶„ë¦¬í•˜ê³ , Repository ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬í˜„ì²´ë¥¼ êµì²´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Presentation (React, hooks, pages)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Domain (EstimateService, QuoteCalculator, IQuoteRepository) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Infrastructure (QuoteJsonRepository, discountRules, API)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

-   **Domain**: `QuoteCalculator`, `EstimateService` â€” ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìˆœìˆ˜ ë¡œì§
-   **Repository íŒ¨í„´**: `IQuoteRepository` ì¸í„°í˜ì´ìŠ¤, `QuoteJsonRepository` êµ¬í˜„ì²´
-   **Dependency Injection**: Calculator ìƒì„± ì‹œ Repository ì£¼ì… ê°€ëŠ¥

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
autoquote_web/
â”œâ”€â”€ server/              # Express API ì„œë²„
â”‚   â”œâ”€â”€ server.js        # ì¸ì¦, CRUD, quotes API
â”‚   â””â”€â”€ quotes/          # ê²¬ì  JSON íŒŒì¼ ì €ì¥
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ domain/          # ë„ë©”ì¸ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ EstimateService.js
â”‚   â”‚   â”œâ”€â”€ QuoteCalculator.js
â”‚   â”‚   â””â”€â”€ repositories/IQuoteRepository.js
â”‚   â”œâ”€â”€ infrastructure/  # Repository êµ¬í˜„ì²´
â”‚   â”‚   â””â”€â”€ json/QuoteJsonRepository.js
â”‚   â”œâ”€â”€ hooks/           # ë°ì´í„° fetch ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ components/      # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ pages/           # í˜ì´ì§€ (Login, Admin)
â”‚   â”œâ”€â”€ constants/       # í• ì¸/í˜œíƒ ê·œì¹™ ì•Œê³ ë¦¬ì¦˜
â”‚   â””â”€â”€ utils/           # ê³„ì‚°Â·ê·œì¹™ ì ìš© ìœ í‹¸
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile.backend
â””â”€â”€ nginx/
```

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ì‚¬ì „ ìš”ê±´

-   Node.js 20+
-   npm

### ë¡œì»¬ ê°œë°œ

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ë°±ì—”ë“œ API ì„œë²„ ì‹¤í–‰ (í¬íŠ¸ 4000)
node server/server.js

# ë³„ë„ í„°ë¯¸ë„ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„ (í¬íŠ¸ 5174)
npm run dev
```

-   í”„ë¡ íŠ¸: http://localhost:5174
-   API: http://localhost:4000/api

> DB í´ë”(db.json, users.json ë“±)ê°€ ì—†ìœ¼ë©´ ì„œë²„ ê¸°ë™ ì‹œ ìë™ ìƒì„±ë©ë‹ˆë‹¤.

### Docker ë°°í¬

```bash
# í”„ë¡ íŠ¸ ë¹Œë“œ
npm run build

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker-compose up -d
```

-   í”„ë¡ íŠ¸: http://localhost:8010
-   ë°±ì—”ë“œ API: http://localhost:8009

---

## ğŸ“‹ ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´            | ì„¤ëª…               |
| ----------------- | ------------------ |
| `npm run dev`     | Vite ê°œë°œ ì„œë²„     |
| `npm run build`   | í”„ë¡œë•ì…˜ ë¹Œë“œ      |
| `npm run preview` | ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸° |
| `npm run test`    | Jest í…ŒìŠ¤íŠ¸ ì‹¤í–‰   |
| `npm run lint`    | ESLint ì‹¤í–‰        |

---

## ğŸ” ì¸ì¦

-   **Cookie ê¸°ë°˜ ì„¸ì…˜** (httpOnly, sameSite)
-   ê¸°ë³¸ ê³„ì •: `genieone` / `genieone_admin` (ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ëŠ” ì„œë²„ ì½”ë“œ ì°¸ì¡°)
-   **ProtectedRoute**: `/admin` ê²½ë¡œëŠ” admin ì—­í• ë§Œ ì ‘ê·¼ ê°€ëŠ¥

---

## ğŸ“ ì£¼ìš” API

| Method              | Path                  | ì„¤ëª…             |
| ------------------- | --------------------- | ---------------- |
| POST                | /api/login            | ë¡œê·¸ì¸           |
| GET                 | /api/services         | ì„œë¹„ìŠ¤ ëª©ë¡      |
| GET/POST/PUT/DELETE | /api/combo-rules      | ê²°í•© í• ì¸ ê·œì¹™   |
| GET/POST/PUT/DELETE | /api/product-benefits | ìƒí’ˆë³„ í˜œíƒ      |
| GET/POST            | /api/quotes           | ê²¬ì  ëª©ë¡ / ì €ì¥ |
| GET                 | /api/memo             | ë©”ëª¨ ì¡°íšŒ        |

---

## âœ¨ ê°œë°œ í¬ì¸íŠ¸

-   **Clean Architecture** â€” ë„ë©”ì¸/ì¸í”„ë¼ ë¶„ë¦¬, Repository íŒ¨í„´, DIP ì ìš©
-   **ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§** â€” ì¡°ê±´ë¶€ í• ì¸Â·í˜œíƒ ê·œì¹™, ìˆ˜ëŸ‰ë³„ í˜œíƒ, ê²°í•© ê·œì¹™ ì—”ì§„
-   **í’€ìŠ¤íƒ ì›¹ì•±** â€” React + Express, ì¸ì¦, CRUD, íŒŒì¼ ê¸°ë°˜ DB
-   **ì»¤ìŠ¤í…€ í›… ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬** â€” useEstimateData, useServicesData ë“±ìœ¼ë¡œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬
-   **í…ŒìŠ¤íŠ¸ ì½”ë“œ** â€” Jestë¡œ ë„ë©”ì¸Â·ìœ í‹¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
-   **Docker ê¸°ë°˜ ë°°í¬** â€” ë©€í‹° ìŠ¤í…Œì´ì§€, Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ

---
